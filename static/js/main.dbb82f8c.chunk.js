(this["webpackJsonpreact-movie"]=this["webpackJsonpreact-movie"]||[]).push([[0],{39:function(e,t,i){},40:function(e,t,i){},44:function(e,t,i){},67:function(e,t,i){},68:function(e,t,i){},69:function(e,t,i){},71:function(e,t,i){},72:function(e,t,i){},73:function(e,t,i){"use strict";i.r(t);var c=i(0),n=i.n(c),s=i(15),r=i.n(s),a=i(10),o=(i(39),i(3)),l=(i(40),i(4)),j=(i(44),i(1)),d=function(){var e=Object(l.c)((function(e){return e})),t="/details";return void 0!==e.allMovies.detail&&(t="/details/"+e.allMovies.detail),Object(j.jsxs)("nav",{className:"navigation",children:[Object(j.jsx)(a.c,{to:"/firstReactApp/",children:"Movies"}),Object(j.jsx)(a.c,{to:t,children:"Details"}),Object(j.jsx)(a.c,{to:"/favorite",children:"Favorite"})]})},b=i(18),v=i(17),u=i.n(v),O=(i(67),function(e){var t=Object(c.useRef)(null);return Object(j.jsx)("form",{onSubmit:function(i){i.preventDefault(),function(){var i,c=null===(i=t.current)||void 0===i?void 0:i.value;c&&e.onSearch(c)}()},children:Object(j.jsx)("input",{autoFocus:!0,type:"text",ref:t,className:"search"})})}),h=(i(68),function(e){var t=Object(l.b)(),i=e.movie;return Object(j.jsx)("article",{className:"movie",onClick:function(){t({type:"SELECTED_MOVIE",playload:i.linkApi})},children:Object(j.jsxs)(a.b,{to:"/details/".concat(i.linkApi),children:[Object(j.jsxs)("div",{className:"inside",children:[Object(j.jsx)("h2",{children:i.title}),Object(j.jsx)("div",{className:"imgMovie",children:Object(j.jsx)("img",{src:i.poster,alt:"movie art"})})]}),Object(j.jsx)("footer",{className:"meta",children:i.type+" - "+i.year})]})})}),f=(i(69),function(e){var t=e.movies;return Object(j.jsx)("ul",{className:"moviesList",children:t.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(h,{movie:e})},e.linkApi)}))})}),p=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),i=t[0],n=t[1],s=Object(l.b)(),r=Object(l.c)((function(e){return e.allMovies.movies}));Object(c.useEffect)((function(){void 0!==r&&n(r)}),[r]);var a=function(e){return{title:e.Title,year:e.Year,linkApi:e.imdbID,type:e.Type,poster:e.Poster}};return Object(j.jsxs)("article",{className:"movies",children:[Object(j.jsx)("h1",{children:"Movies"}),Object(j.jsx)(O,{onSearch:function(e){u.a.get("https://omdbapi.com/?apikey=9304018a&s=".concat(encodeURI(e))).then((function(e){if("True"===e.data.Response){var t=e.data.Search.filter((function(e){return"N/A"!==e.Poster})).map((function(e){return a(e)})),i=new Set,c=t.filter((function(e){var t=i.has(e.linkApi);return i.add(e.linkApi),!t}));n(c),s({type:"SET_MOVIE",playload:c})}}))}}),Object(j.jsx)(f,{movies:i})]})},m=i(23),x=i.n(m),g=i(33),A=(i(71),function(){var e=Object(l.c)((function(e){return e})),t=Object(l.b)(),i=Object(o.f)().movieId,n=Object(c.useState)({Title:"",Released:"released",Runtime:"runtime",Genre:"genre",Director:"director",Writer:"writer",Actors:"actors",Country:"country",Plot:"plot",imdbRating:"rating",Poster:"poster",imdbID:"link"}),s=Object(b.a)(n,2),r=s[0],a=s[1];Object(c.useEffect)((function(){(function(){var e=Object(g.a)(x.a.mark((function e(){var t,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()("https://omdbapi.com/?apikey=9304018a&i=".concat(encodeURI(i)));case 2:t=e.sent,c=t.data,a(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]);return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Movie details "}),0===Object.keys(r.Title).length?Object(j.jsx)("div",{children:"...Loading"}):Object(j.jsx)("article",{className:"detailMovie",children:Object(j.jsxs)("div",{className:"detailInside",children:[Object(j.jsx)("div",{className:"divstar",children:Object(j.jsxs)("span",{className:e.allMovies.favorites&&e.allMovies.favorites.some((function(t){return t.linkApi===e.allMovies.detail}))?"star starActive":"star",onClick:function(){var i=e.allMovies.detail,c=e.allMovies.movies.find((function(e){return e.linkApi===i}));void 0!==e.allMovies.favorites&&e.allMovies.favorites.find((function(e){return e.linkApi===i}))||(e.allMovies.favorites,t({type:"ADD_FAVORITE",playload:c}))},children:[e.allMovies.favorites&&e.allMovies.favorites.some((function(t){return t.linkApi===e.allMovies.detail}))?"\u2605":"\u2606"," "]})}),Object(j.jsx)("h2",{children:r.Title}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"detailDivPicture",children:[Object(j.jsx)("img",{src:r.Poster,alt:"movie art"})," "]}),Object(j.jsxs)("div",{className:"detailText",children:[Object(j.jsxs)("p",{children:[" ",Object(j.jsx)("strong",{children:"Rating:"})," ",r.imdbRating," "]}),Object(j.jsxs)("p",{children:[" ",Object(j.jsx)("strong",{children:"Genre:"})," ",r.Genre," "]}),Object(j.jsxs)("p",{children:[" ",Object(j.jsx)("strong",{children:"Runtime:"})," ",r.Runtime," "]}),Object(j.jsxs)("p",{children:[" ",Object(j.jsx)("strong",{children:"Country:"})," ",r.Country," "]}),Object(j.jsxs)("p",{children:[" ",Object(j.jsx)("strong",{children:"Director:"})," ",r.Director,"  "]}),Object(j.jsxs)("p",{children:[" ",Object(j.jsx)("strong",{children:"Writer:"})," ",r.Writer,"  "]}),Object(j.jsxs)("p",{children:[" ",Object(j.jsx)("strong",{children:"Actor:"})," ",r.Actors," "]}),Object(j.jsxs)("p",{children:[" ",Object(j.jsx)("strong",{children:"Released:"}),"  ",r.Released]})]})]}),Object(j.jsxs)("div",{className:"plot",children:["Plot: ",r.Plot]})]})})]})}),M=(i(72),function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e})),i=[];i=t.allMovies.favorites;var c=function(i){var c=JSON.parse(i.target.dataset.onclickparam).id,n=t.allMovies.favorites.filter((function(e){return e.linkApi!==c}));e({type:"DELETE_FAVORITE",playload:n})};return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Favorite movies"}),Object(j.jsx)("ul",{className:"moviesList",children:void 0===Object(i).length?Object(j.jsx)("div",{children:"Nothing, You need to search for a movie and add it to your favorites"}):i.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)("article",{className:"movieFavorite",children:Object(j.jsxs)("div",{className:"inside",children:[Object(j.jsx)("h2",{children:e.title}),Object(j.jsxs)("div",{className:"imgMovie",children:[Object(j.jsx)("img",{src:e.poster,alt:"movie art"}),Object(j.jsx)(a.b,{to:"/details/".concat(e.linkApi),children:Object(j.jsx)("div",{className:"btn btnDetail",children:" Details "})}),Object(j.jsx)("div",{className:"btn btnRemove",onClick:c,"data-onclickparam":JSON.stringify({id:e.linkApi}),children:" Remove "})]})]})})},e.linkApi)}))})]})});var y=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("header",{className:"App-header",children:Object(j.jsx)(d,{})}),Object(j.jsx)("main",{className:"content",children:Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"/firstReactApp/",component:p,exact:!0}),Object(j.jsx)(o.a,{path:"/details/:movieId",component:A}),Object(j.jsx)(o.a,{path:"/favorite",component:M})]})})]})},N=i(13),k=i(11),E="SET_MOVIE",R="SELECTED_MOVIE",D="ADD_FAVORITE",T="DELETE_FAVORITE",I={},S=Object(N.combineReducers)({allMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,i=t.type,c=t.playload,n=[];switch(i){case E:return Object(k.a)(Object(k.a)({},e),{},{movies:c});case R:return Object(k.a)(Object(k.a)({},e),{},{detail:c});case D:if(void 0===e.favorites)return n.push(c),Object(k.a)(Object(k.a)({},e),{},{favorites:n});var s=e.favorites;return s.push(c),s.forEach((function(e){n.push(e)})),Object(k.a)(Object(k.a)({},e),{},{favorites:n});case T:return Object(k.a)(Object(k.a)({},e),{},{favorites:c});default:return e}}}),w=i(34),C=Object(N.createStore)(S,{},Object(w.composeWithDevTools)(Object(N.applyMiddleware)()));r.a.render(Object(j.jsx)(a.a,{children:Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(l.a,{store:C,children:Object(j.jsx)(y,{})})})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.dbb82f8c.chunk.js.map